# π–¥οΈ CPU's Operating Mechanism

<br>

## ALUμ™€ μ μ–΄μ¥μΉ
### ALU
- λ μ§€μ¤ν„°λ¥Ό ν†µν•΄ **ν”Όμ—°μ‚°μλ¥Ό λ°›μ•„λ“¤μ΄κ³ ** μ μ–΄μ¥μΉλ΅ λ¶€ν„° μν–‰ν•  μ—°μ‚°μ„ μ•λ ¤μ£Όλ” **μ μ–΄ μ‹ νΈλ¥Ό λ°›μ•„λ“¤μ΄λ” μ¥μΉ**
- λ μ§€μ¤ν„°μ™€ μ μ–΄μ¥μΉλ΅λ¶€ν„° λ°›μ•„λ“¤μΈ **ν”Όμ—°μ‚°μμ™€ μ μ–΄ μ‹ νΈλ΅ λ‹¤μ–‘ν• μ—°μ‚°μ„ μν–‰**  
    <details>
    <summary> ALUκ°€ λ°›μ•„λ“¤μ΄κ³  λ‚΄λ³΄λ‚΄λ” μ •λ³΄μ νλ¦„ </summary>  

    ![alt text](images/001.jpg)

    </details>  

<br>

- **μ—°μ‚°μ„ μν–‰ν• κ²°κ³Όλ” νΉμ • μ«μλ‚ λ¬Έμ**, **λ©”λ¨λ¦¬ μ£Όμ†**, **ν”λκ·Έ**κ°€ λ  μ μμΌλ©° **μΌμ‹μ μΌλ΅ λ μ§€μ¤ν„°μ— μ €μ¥**λλ‹¤.
    <details>
    <summary> ν”λκ·Έ(flag)μ— λ€ν•΄ λ” μμ„Έν </summary>  

    > ν”λκ·Έλ€ **μ—°μ‚° κ²°κ³Όμ— λ€ν• μ¶”κ°€μ μΈ μƒνƒ μ •λ³΄**μ΄λ‹¤.  

    > ν”λκ·Έλ“¤μ€ **ν”λκ·Έ λ μ§€μ¤ν„°**λΌλ” λ μ§€μ¤ν„°μ— **μ €μ¥λλ‹¤.**

    |ν”λκ·Έ μΆ…λ¥|μλ―Έ|μ‚¬μ© μμ‹|
    |--|--|--|
    |λ¶€νΈ ν”λκ·Έ|μ—°μ‚°ν• κ²°κ³Όμ λ¶€νΈλ¥Ό λ‚νƒ€λ‚Έλ‹¤.|λ¶€νΈ ν”λκ·Έκ°€ 1μΈ κ²½μ° κ³„μ‚° κ²°κ³Όλ” μμ, 0μΌ κ²½μ° κ³„μ‚° κ²°κ³Όλ” μ–‘μλ¥Ό μλ―Έν•λ‹¤.|
    |μ λ΅ ν”λκ·Έ|μ—°μ‚° κ²°κ³Όκ°€ 0μΈμ§€ μ—¬λ¶€λ¥Ό λ‚νƒ€λ‚Έλ‹¤.|μ λ΅ ν”λκ·Έκ°€ 1μΈ κ²½μ° μ—°μ‚°κ²°κ³Όλ” 0, 0μΌ κ²½μ° μ—°μ‚° κ²°κ³Όλ” 0μ΄ μ•„λ‹μ„ μλ―Έν•λ‹¤.|
    |μΊλ¦¬ ν”λκ·Έ|μ—°μ‚° κ²°κ³Ό μ¬λ¦Όμλ‚ λΉλ¦Όμκ°€ λ°μƒν–λ”μ§€λ¥Ό λ‚νƒ€λ‚Έλ‹¤.|μΊλ¦¬ ν”λκ·Έκ°€ 1μΌ κ²½μ° μ¬λ¦Όμλ‚ λΉλ¦Όμκ°€ λ°μƒν–μμ„ μλ―Έ, 0μΌ κ²½μ° λ°μƒν•μ§€ μ•μ•μμ„ μλ―Έν•λ‹¤.|
    |μ¤λ²„ν”λ΅μ° ν”λκ·Έ|μ¤λ²„ν”λ΅μ°κ°€ λ°μƒν–λ”μ§€λ¥Ό λ‚νƒ€λ‚Έλ‹¤|μ¤λ²„ν”λ΅μ° ν”λκ·Έκ°€ 1μΌ κ²½μ° μ¤λ²„ν”λ΅μ°κ°€ λ°μƒν–μμ„ μλ―Έ, 0μΌ κ²½μ° λ°μƒν•μ§€ μ•μ•μμ„ μλ―Έν•λ‹¤.|
    |μΈν„°λ½νΈ ν”λκ·Έ|μΈν„°λ½νΈκ°€ κ°€λ¥ν•μ§€λ¥Ό λ‚νƒ€λ‚Έλ‹¤.|μΈν„°λ½νΈ ν”λκ·Έκ°€ 1μΌ κ²½μ° μΈν„°λ½νΈκ°€ κ°€λ¥ν•¨μ„ μλ―Έν•κ³ , 0μΌ κ²½μ° μΈν„°λ½νΈκ°€ λ¶κ°€λ¥ν•¨μ„ μλ―Έν•λ‹¤.|
    |μνΌλ°”μ΄μ € ν”λκ·Έ|μ»¤λ„ λ¨λ“λ΅ μ‹¤ν–‰ μ¤‘μΈμ§€, μ‚¬μ©μ λ¨λ“λ΅ μ‹¤ν–‰ μ¤‘μΈμ§€λ¥Ό λ‚νƒ€λ‚Έλ‹¤.|μνΌλ°”μ΄μ € ν”λκ·Έκ°€ 1μΌ κ²½μ° μ»¤λ„ λ¨λ“λ΅ μ‹¤ν–‰ μ¤‘μ„μ„ μλ―Έν•κ³ , 0μΌ κ²½μ° μ‚¬μ©μ λ¨λ“λ΅ μ‹¤ν–‰ μ¤‘μ„μ„ μλ―Έν•λ‹¤.|

    </details>  

<br>

### μ μ–΄μ¥μΉ
- **μ μ–΄ μ‹ νΈλ¥Ό λ‚΄λ³΄λ‚΄κ³  λ…λ Ήμ–΄λ¥Ό ν•΄μ„**ν•λ” λ¶€ν’.  
    <details>
    <summary> μ μ–΄ μ‹ νΈλ€? </summary>  

    >μ μ–΄ μ‹ νΈλ” **μ»΄ν“¨ν„° λ¶€ν’μ„ κ΄€λ¦¬ν•κ³  μ‘λ™μ‹ν‚¤κΈ° μ„ν• μΌμΆ…μ μ „κΈ°μ‹ νΈ**μ΄λ‹¤.  

    >β€ΌοΈ CPU μ μ΅°μ‚¬λ§λ‹¤ μ μ–΄μ¥μΉμ κµ¬ν„ λ°©μ‹μ΄λ‚ λ…λ Ήμ–΄λ¥Ό ν•΄μ„ν•λ” λ°©μ‹μ΄ μ΅°κΈμ”© μƒμ΄ν•λ‹¤.

    </details>

    #### μ μ–΄μ¥μΉκ°€ λ°›μ•„λ“¤μ΄λ” μ •λ³΄
    - **ν΄λ­(clock) μ‹ νΈ**
    - ν•΄μ„ν•΄μ•Ό ν•  **λ…λ Ήμ–΄**
    - ν”λκ·Έ λ μ§€μ¤ν„° μ† **ν”λκ·Έ κ°’**
    - μ‹μ¤ν… λ²„μ¤ μ¤‘ **μ μ–΄ λ²„μ¤λ΅ μ „λ‹¬λ μ μ–΄ μ‹ νΈ**  

        <details>
        <summary> μ μ–΄μ¥μΉ μ •λ³΄μ νλ¦„ </summary>  

        ![alt text](images/002.jpg)

        </details>

<br>

## λ μ§€μ¤ν„°
### ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°(Program Counter)
- λ©”λ¨λ¦¬μ—μ„ μ½μ–΄ λ“¤μΌ **λ…λ Ήμ–΄μ μ£Όμ†λ¥Ό μ €μ¥**ν•λ‹¤.
- CPUμ— λ”°λΌ **λ…λ Ή ν¬μΈν„°(Instruction Pointer)** λΌκ³ λ„ ν•λ‹¤.

### λ…λ Ήμ–΄ λ μ§€μ¤ν„°(Instruction Register)
- λ©”λ¨λ¦¬μ—μ„ μ½μ–΄ λ“¤μΈ **λ…λ Ήμ–΄λ¥Ό μ €μ¥**ν•λ” λ μ§€μ¤ν„°.
- μ μ–΄μ¥μΉλ” λ…λ Ήμ–΄ λ μ§€μ¤ν„° μ† λ…λ Ήμ–΄λ¥Ό λ°›μ•„λ“¤μ΄κ³  ν•΄μ„ν• λ’¤ μ μ–΄μ‹ νΈλ¥Ό λ‚΄λ³΄λ‚Έλ‹¤.

### λ©”λ¨λ¦¬ μ£Όμ† λ μ§€μ¤ν„°(Memory Address Register)
- **λ©”λ¨λ¦¬μ μ£Όμ†λ¥Ό μ €μ¥**ν•λ” λ μ§€μ¤ν„°μ΄λ‹¤.
- CPUκ°€ μ½μ–΄ λ“¤μ΄κ³ μ ν•λ” μ£Όμ† κ°’μ„ μ£Όμ† λ²„μ¤λ΅ λ³΄λ‚Ό λ• λ©”λ¨λ¦¬ μ£Όμ† λ μ§€μ¤ν„°λ¥Ό κ±°μΉκ² λλ‹¤.

### λ©”λ¨λ¦¬ λ²„νΌ λ μ§€μ¤ν„°(Memory Buffer Register)
- **λ©”λ¨λ¦¬μ™€ μ£Όκ³ λ°›μ„ λ°μ΄ν„°μ™€ λ…λ Ήμ–΄λ¥Ό μ €μ¥**ν•λ” λ μ§€μ¤ν„°.
- λ©”λ¨λ¦¬μ— μ“°κ³ μ‹¶μ€ κ°’μ΄λ‚ λ©”λ¨λ¦¬λ΅λ¶€ν„° μ „λ‹¬λ°›μ€ κ°’μ€ λ©”λ¨λ¦¬ λ²„νΌ λ μ§€μ¤ν„°λ¥Ό κ±°μΉλ‹¤.

<br>

<details>
<summary> μ„ 4κ° λ μ§€μ¤ν„°μ λ™μ‘λ°©μ‹ λ³΄κΈ° </summary>   

- CPUλ΅ μ‹¤ν–‰ν•  ν”„λ΅κ·Έλ¨μ΄ 1000~1500λ²μ§€ κΉμ§€ μ €μ¥λμ–΄ μκ³  1000λ²μ§€μ—λ” 1101<sub>(2)</sub>κ°€ μ €μ¥λμ–΄ μλ‹¤κ³  κ°€μ •ν•λ‹¤.

    ![text](images/003.jpg)  
<br>
- ν”„λ΅κ·Έλ¨μ„ μ²μλ¶€ν„° μ‹¤ν–‰ν•κΈ° μ„ν•΄ **ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°**μ—λ” **μ£Όμ†κ°’ 1000μ΄ μ €μ¥**λλ‹¤. μ΄λ” λ©”λ¨λ¦¬μ—μ„ κ°€μ Έμ¬ λ…λ Ήμ–΄κ°€ 1000λ²μ§€μ— μμμ„ μλ―Έν•λ‹¤.

    ![text](images/004.jpg)   
<br>
- **1000λ²μ§€λ¥Ό μ½μ–΄ λ“¤μ΄κΈ° μ„ν•΄μ„λ” μ£Όμ† λ²„μ¤λ΅ 1000λ²μ§€λ¥Ό λ‚΄λ³΄λ‚΄μ•Ό ν•λ‹¤.** μ΄λ¥Ό μ„ν•΄ **λ©”λ¨λ¦¬ μ£Όμ† λ μ§€μ¤ν„°** μ—λ” 1000μ΄ μ €μ¥λλ‹¤.

    ![text](images/005.jpg)  
<br>
- 'λ©”λ¨λ¦¬ μ½κΈ°' **μ μ–΄ μ‹ νΈμ™€ λ©”λ¨λ¦¬ μ£Όμ† λ μ§€μ¤ν„° κ°’μ΄ κ°κ° μ μ–΄ λ²„μ¤μ™€ μ£Όμ† λ²„μ¤λ¥Ό ν†µν•΄ λ©”λ¨λ¦¬λ΅ λ³΄λ‚΄μ§„λ‹¤.**

    ![text](images/006.jpg)  
<br>
- **λ©”λ¨λ¦¬ 1000λ²μ§€μ— μ €μ¥λ κ°’μ€ λ°μ΄ν„° λ²„μ¤λ¥Ό ν†µν•΄ λ©”λ¨λ¦¬ λ²„νΌ λ μ§€μ¤ν„°λ΅ μ „λ‹¬**λκ³  **ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°λ” μ¦κ°€**λμ–΄ λ‹¤μ λ…λ Ήμ–΄λ¥Ό λ°›μ•„λ“¤μΌ μ¤€λΉ„λ¥Ό ν•λ‹¤.

    ![text](images/007.jpg)  
<br>
- **λ©”λ¨λ¦¬ λ²„νΌ λ μ§€μ¤ν„°μ— μ €μ¥λ κ°’μ€ λ…λ Ήμ–΄ λ μ§€μ¤ν„°λ΅ μ΄λ™**ν•λ‹¤.

    ![text](images/008.jpg)  
<br>
- **μ μ–΄μ¥μΉλ” λ…λ Ήμ–΄ λ μ§€μ¤ν„°μ λ…λ Ήμ–΄λ¥Ό ν•΄μ„ν•κ³  μ μ–΄ μ‹ νΈλ¥Ό λ°μƒ**μ‹ν‚¨λ‹¤.

    ![text](images/009.jpg)  

- **ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°λ” μ§€μ†μ μΌλ΅ μ¦κ°€ν•λ©° κ³„μ†ν•΄μ„ λ‹¤μ λ…λ Ήμ–΄λ¥Ό μ½μ–΄λ“¤μΌ μ¤€λΉ„λ¥Ό ν•λ‹¤.**
μ΄λ¬ν• κ³Όμ •μ΄ λ°λ³µλλ©° CPUλ” **ν”„λ΅κ·Έλ¨μ„ μ°¨λ΅€λ€λ΅ μ‹¤ν–‰**ν•΄ λ‚κ°„λ‹¤.

</details>
<br>

### λ²”μ© λ μ§€μ¤ν„°(General Purpose Register)
- λ‹¤μ–‘ν•κ³  μΌλ°μ μΈ μƒν™©μ—μ„ **μμ λ΅­κ² μ‚¬μ© κ°€λ¥ν• λ μ§€μ¤ν„°.**
- **λ°μ΄ν„°μ™€ μ£Όμ† λ¨λ‘ μ €μ¥**ν•  μ μλ‹¤.
- ν„λ€ CPU λ€λ‹¤μμ—λ” λ²”μ© λ μ§€μ¤ν„°κ°€ μλ‹¤.

### ν”λκ·Έ λ μ§€μ¤ν„°(Flag Register)
- AUL μ—°μ‚° κ²°κ³Όμ— λ”°λ¥Έ **ν”λκ·Έλ¥Ό μ €μ¥ν•λ” λ μ§€μ¤ν„°.**
- μ—°μ‚°κ²°κ³Ό λλ” CPU μƒνƒμ— λ€ν• λ¶€κ°€μ μΈ μ •λ³΄λ¥Ό μ €μ¥ν•λ‹¤.

<br>

## νΉμ • λ μ§€μ¤ν„°λ¥Ό μ΄μ©ν• μ£Όμ† μ§€μ • λ°©μ‹
### μ¤νƒ μ£Όμ† μ§€μ • λ°©μ‹
- **μ¤νƒ**κ³Ό **μ¤νƒ ν¬μΈν„°λ¥Ό μ΄μ©**ν• μ£Όμ† μ§€μ • λ°©μ‹.
    <details>
    <summary> μ¤νƒ ν¬μΈν„°μ™€ μ¤νƒ μμ—­μ— λ€ν•΄ μμ„Έν </summary>   

    > μ¤νƒ ν¬μΈν„°λ€? **μ¤νƒμ— λ§μ§€λ§‰μΌλ΅ μ €μ¥ν• κ°’μ μ„μΉλ¥Ό μ €μ¥**ν•λ” λ μ§€μ¤ν„°.
    - μ¤νƒμ— 3, 2, 1 μμΌλ΅ μ…λ ¥λμ–΄ μμΌλ©΄ μ¤νƒ ν¬μΈν„°λ” κ°€μ¥ λ§μ§€λ§‰ κ°’μΈ 1μ μ£Όμ†μΈ 4λ²μ§€λ¥Ό κ°€λ¦¬ν‚¨λ‹¤.
    ![alt text](images/010.jpg) 
    - 1μ„ κΊΌλ‚΄λ©΄ 2μ™€ 3μ΄ λ‚¨κ³  μ¤νƒ ν¬μΈν„°λ” κ°€μ¥ κΌ­λ€κΈ°μΈ 2κ°€ μλ” μ£Όμ†μΈ 5λ²μ§€λ¥Ό κ°€λ¦¬ν‚¨λ‹¤.
    ![alt text](images/011.jpg) 
    - 4λΌλ” λ°μ΄ν„°κ°€ μ¶”κ°€λλ©΄ 4λ²μ§€μ— λ°μ΄ν„°κ°€ λ“¤μ–΄μ¤κ² λκ³  μ¤νƒ ν¬μΈν„°λ” 4λ²μ§€λ¥Ό κ°€λ¦¬ν‚¨λ‹¤.
    ![alt text](images/012.jpg) 

        > μ¤νƒ μμ—­μ΄λ€? **λ©”λ¨λ¦¬ μ•μ— μ¤νƒμ²λΌ μ‚¬μ©ν•  μ μλ„λ΅ μ •ν•΄μ§„ μμ—­**μ„ λ§ν•λ‹¤.

        ![alt text](images/013.jpg)

    </details>

### λ³€μ„ μ£Όμ† μ§€μ • λ°©μ‹
- **μ¤νΌλλ“ ν•„λ“μ κ°’(λ³€μ„)κ³Ό νΉμ • λ μ§€μ¤ν„°μ κ°’μ„ λ”ν•μ—¬ μ ν¨ μ£Όμ†λ¥Ό μ–»μ–΄λ‚΄λ” μ£Όμ† μ§€μ • λ°©μ‹.**
    <details>
    <summary> κ·Έλ¦ΌμΌλ΅ λ³΄κΈ° </summary> 

    ![alt text](images/014.jpg)

    > λ³€μ„ μ£Όμ† μ§€μ • λ°©μ‹μ„ μ‚¬μ©ν•λ” λ…λ Ήμ–΄λ” μ•„λμ™€ κ°™μ΄
    μ—°μ‚°μ½”λ“ ν•„λ“, λ μ§€μ¤ν„° ν•„λ“, μ¤νΌλλ“ ν•„λ“κ°€ μλ‹¤.

    ![alt text](images/015.jpg)

    </details>

    <br>


- λ³€μ„ μ£Όμ† μ§€μ • λ°©μ‹μ€ μ¤νΌλλ“ ν•„λ“μ μ£Όμ†μ™€ μ–΄λ–¤ λ μ§€μ¤ν„°λ¥Ό λ”ν•λ”μ§€μ— λ”°λΌ **μƒλ€ μ£Όμ† μ§€μ • λ°©μ‹, λ² μ΄μ¤ λ μ§€μ¤ν„° μ£Όμ† μ§€μ • λ°©μ‹μΌλ΅ λ‚λ‰λ‹¤.**

    <details>
    <summary> μƒλ€ μ£Όμ† μ§€μ • λ°©μ‹ </summary> 

    - **μ¤νΌλλ“μ™€ ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°μ κ°’μ„ λ”ν•μ—¬ μ ν¨ μ£Όμ†λ¥Ό μ–»λ” λ°©μ‹.**
        ![alt text](images/016.jpg)
        
        ![alt text](images/017.jpg)
        > ν”„λ΅κ·Έλλ° μ–Έμ–΄μ ifλ¬Έκ³Ό μ μ‚¬ν•κ² **λ¨λ“  μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ” κ²ƒμ΄ μ•„λ‹ λ¶„κΈ°ν•μ—¬ νΉμ • μ£Όμ†μ μ½”λ“λ¥Ό μ‹¤ν–‰ν•  λ• μ‚¬μ©**λλ‹¤.
    </details>

    <details>
    <summary> λ² μ΄μ¤ λ μ§€μ¤ν„° μ£Όμ† μ§€μ • λ°©μ‹ </summary> 

    - **μ¤νΌλλ“μ™€ λ² μ΄μ¤ λ μ§€μ¤ν„°μ κ°’μ„ λ”ν•μ—¬ μ ν¨ μ£Όμ†λ¥Ό μ–»λ” λ°©μ‹.**
        ![alt text](images/018.jpg)
        > λ² μ΄μ¤ λ μ§€μ¤ν„°λ” κΈ°μ¤€ μ£Όμ†λ¥Ό μ κ³µν•κ³  μ¤νΌλλ“μ κ°’μ„ λ”ν•μ—¬ κ·Έ κ°’λ§νΌ λ–¨μ–΄μ§„ μ£Όμ†μ— μ ‘κ·Όν•λ‹¤.

    </details>